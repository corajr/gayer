// Generated by BUCKLESCRIPT VERSION 4.0.3, PLEASE EDIT WITH CARE

import * as List from "bs-platform/lib/es6/list.js";
import * as Block from "bs-platform/lib/es6/block.js";
import * as Curry from "bs-platform/lib/es6/curry.js";
import * as React from "react";
import * as Hashtbl from "bs-platform/lib/es6/hashtbl.js";
import * as Audio$Gayer from "./Audio.bs.js";
import * as Json_decode from "@glennsl/bs-json/src/Json_decode.bs.js";
import * as Json_encode from "@glennsl/bs-json/src/Json_encode.bs.js";
import * as Layer$Gayer from "./Layer.bs.js";
import * as Music$Gayer from "./Music.bs.js";
import * as ReasonReact from "reason-react/src/ReasonReact.js";
import * as Container$Gayer from "./DnD/Container.bs.js";

var defaultParams_009 = /* layers : :: */[
  /* record */[
    /* content : Image */Block.__(2, ["media/hubble_ultra_deep_field.jpg"]),
    /* alpha */1.0,
    /* compositeOperation : SourceOver */0
  ],
  /* :: */[
    /* record */[
      /* content : Analysis */0,
      /* alpha */0.5,
      /* compositeOperation : SourceOver */0
    ],
    /* :: */[
      /* record */[
        /* content : Webcam */Block.__(1, [/* record */[/* slitscan */undefined]]),
        /* alpha */0.25,
        /* compositeOperation : SourceOver */0
      ],
      /* :: */[
        /* record */[
          /* content : Fill */Block.__(0, ["white"]),
          /* alpha */0.0125,
          /* compositeOperation : SourceOver */0
        ],
        /* :: */[
          /* record */[
            /* content : PitchClasses */Block.__(3, [Music$Gayer.cMajor]),
            /* alpha */1.0,
            /* compositeOperation : DestinationOut */6
          ],
          /* :: */[
            /* record */[
              /* content : Reader */Block.__(4, [/* R */0]),
              /* alpha */0.0,
              /* compositeOperation : SourceOver */0
            ],
            /* [] */0
          ]
        ]
      ]
    ]
  ]
];

var defaultParams = /* record */[
  /* readPosDelta */1,
  /* writePosDelta */1,
  /* writePosOffset */0,
  /* audioInputSetting : PinkNoise */0,
  /* inputGain */1.0,
  /* outputGain */0.1,
  /* q */Audio$Gayer.defaultQ,
  /* transpose */0,
  /* shouldClear */true,
  defaultParams_009
];

function params(json) {
  var partial_arg = Layer$Gayer.DecodeLayer[/* layer */2];
  return /* record */[
          /* readPosDelta */Json_decode.field("readPosDelta", Json_decode.$$int, json),
          /* writePosDelta */Json_decode.field("writePosDelta", Json_decode.$$int, json),
          /* writePosOffset */Json_decode.field("writePosOffset", Json_decode.$$int, json),
          /* audioInputSetting */Json_decode.field("audioInputSetting", Audio$Gayer.AudioInput[/* DecodeAudioInput */1][/* audioInputSetting */0], json),
          /* inputGain */Json_decode.field("inputGain", Json_decode.$$float, json),
          /* outputGain */Json_decode.field("outputGain", Json_decode.$$float, json),
          /* q */Json_decode.field("q", Json_decode.$$float, json),
          /* transpose */Json_decode.field("transpose", Json_decode.$$int, json),
          /* shouldClear */Json_decode.field("shouldClear", Json_decode.bool, json),
          /* layers */Json_decode.field("layers", (function (param) {
                  return Json_decode.list(partial_arg, param);
                }), json)
        ];
}

var DecodeParams = /* module */[/* params */params];

function params$1(r) {
  return Json_encode.object_(/* :: */[
              /* tuple */[
                "readPosDelta",
                r[/* readPosDelta */0]
              ],
              /* :: */[
                /* tuple */[
                  "writePosDelta",
                  r[/* writePosDelta */1]
                ],
                /* :: */[
                  /* tuple */[
                    "writePosOffset",
                    r[/* writePosOffset */2]
                  ],
                  /* :: */[
                    /* tuple */[
                      "audioInputSetting",
                      Curry._1(Audio$Gayer.AudioInput[/* EncodeAudioInput */0][/* audioInputSetting */0], r[/* audioInputSetting */3])
                    ],
                    /* :: */[
                      /* tuple */[
                        "inputGain",
                        r[/* inputGain */4]
                      ],
                      /* :: */[
                        /* tuple */[
                          "outputGain",
                          r[/* outputGain */5]
                        ],
                        /* :: */[
                          /* tuple */[
                            "q",
                            r[/* q */6]
                          ],
                          /* :: */[
                            /* tuple */[
                              "transpose",
                              r[/* transpose */7]
                            ],
                            /* :: */[
                              /* tuple */[
                                "shouldClear",
                                r[/* shouldClear */8]
                              ],
                              /* :: */[
                                /* tuple */[
                                  "layers",
                                  Json_encode.list(Layer$Gayer.EncodeLayer[/* layer */1], r[/* layers */9])
                                ],
                                /* [] */0
                              ]
                            ]
                          ]
                        ]
                      ]
                    ]
                  ]
                ]
              ]
            ]);
}

var EncodeParams = /* module */[/* params */params$1];

var component = ReasonReact.statelessComponent("Params");

function make(params, onMoveCard, onSetRef, onChangeLayer, _) {
  return /* record */[
          /* debugName */component[/* debugName */0],
          /* reactClassInternal */component[/* reactClassInternal */1],
          /* handedOffState */component[/* handedOffState */2],
          /* willReceiveProps */component[/* willReceiveProps */3],
          /* didMount */component[/* didMount */4],
          /* didUpdate */component[/* didUpdate */5],
          /* willUnmount */component[/* willUnmount */6],
          /* willUpdate */component[/* willUpdate */7],
          /* shouldUpdate */component[/* shouldUpdate */8],
          /* render */(function () {
              var match = params[/* shouldClear */8];
              return React.createElement("div", undefined, ReasonReact.element(undefined, undefined, Container$Gayer.make(List.map((function (layer) {
                                        var id = "card" + String(Hashtbl.hash(layer));
                                        return /* record */[
                                                /* id */id,
                                                /* layer */layer
                                              ];
                                      }), params[/* layers */9]), onMoveCard, onChangeLayer, onSetRef, /* array */[])), React.createElement("div", undefined, React.createElement("div", undefined, "readPosDelta: ", params[/* readPosDelta */0].toString()), React.createElement("div", undefined, "writePosDelta: ", params[/* writePosDelta */1].toString()), React.createElement("div", undefined, "writePosOffset: ", params[/* writePosOffset */2].toString()), React.createElement("div", undefined, "audioInputSetting: ", JSON.stringify(Curry._1(Audio$Gayer.AudioInput[/* EncodeAudioInput */0][/* audioInputSetting */0], params[/* audioInputSetting */3]))), React.createElement("div", undefined, "inputGain: ", params[/* inputGain */4].toString()), React.createElement("div", undefined, "outputGain: ", params[/* outputGain */5].toString()), React.createElement("div", undefined, "q: ", params[/* q */6].toString()), React.createElement("div", undefined, "transpose: ", params[/* transpose */7].toString()), React.createElement("div", undefined, "shouldClear: ", match ? "true" : "false")));
            }),
          /* initialState */component[/* initialState */10],
          /* retainedProps */component[/* retainedProps */11],
          /* reducer */component[/* reducer */12],
          /* subscriptions */component[/* subscriptions */13],
          /* jsElementWrapped */component[/* jsElementWrapped */14]
        ];
}

export {
  defaultParams ,
  DecodeParams ,
  EncodeParams ,
  component ,
  make ,
  
}
/* component Not a pure module */
